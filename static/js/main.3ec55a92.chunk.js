(this["webpackJsonpwhere-is-wimmelbilder"]=this["webpackJsonpwhere-is-wimmelbilder"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n.n(a),i=n(25),r=n.n(i),s=(n(43),n(14)),o=(n(44),n(35)),l=n(8),d=(n(29),n.p+"static/media/wimmelbilder.80effeab.jpg"),b=n(33),j=n.n(b),u=n(18),m=n(2),h=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],i=n[1],r=u.a.database().ref("playerTimes");Object(a.useEffect)((function(){r.on("value",(function(e){var t=e.val(),n=[];for(var a in t)n.push({id:a,name:t[a].name,time:t[a].time});n.sort((function(e,t){return e.time>t.time?1:-1})),i(n)}))}),[]);var o=function(){window.location.href="/where-is-wimmelbilder"};return Object(m.jsxs)("div",{className:"wrapper",children:[Object(m.jsx)("img",{className:"image-banner",src:d,alt:"sylvan-hill-header"}),Object(m.jsxs)("div",{className:"leaderboard-header",children:[Object(m.jsxs)("h1",{children:["Leaderboard ",Object(m.jsx)(j.a,{symbol:"\ud83c\udfc6",label:"trophy"})]}),Object(m.jsx)("button",{className:"leaderboard-btn",onClick:o,children:"Play again"})]}),Object(m.jsxs)("div",{className:"leaderboard-list-header",children:[Object(m.jsx)("h2",{children:"Name"}),Object(m.jsx)("h2",{children:"Time"})]}),Object(m.jsx)("div",{className:"leaderboard-list",children:c.map((function(e){return Object(m.jsxs)("div",{className:"leaderboard-list-item",children:[Object(m.jsx)("div",{children:e.name}),Object(m.jsx)("div",{children:e.time})]},e.id)}))}),Object(m.jsx)("div",{className:"leaderboard-btn-div",children:Object(m.jsx)("button",{className:"leaderboard-btn",onClick:o,children:"Play again"})})]})},x=n(38),O=n(34),f=n.n(O),p=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",a=arguments.length>1?arguments[1]:void 0;"success"===n?(e="#26962d",t="toast-success"):"info"===n&&(e="#FFF9C4",t="toast-info"),f()({text:a,duration:3e3,newWindow:!0,close:!0,gravity:"bottom",position:"left",backgroundColor:e,className:t,stopOnFocus:!0,onClick:function(){}}).showToast()},v=function(e){var t=function(t){var n,a=function(e){var t=e.pageX,n=e.pageY;return console.log("pageX = "+t+", pageY = "+n),{x:t,y:n}}(t),c=e.chars,i=!1;return c.forEach((function(e){a.x>=e.xMin-2&&a.x<=e.xMax+2&&a.y>=e.yMin-2&&a.y<=e.yMax+2&&(i=!0,n=e.name)})),{result:i,character:n}},n=function(t){return e.chars.findIndex((function(e){return e.name===t}))};return Object(m.jsx)("img",{className:"wimmelbilder",src:d,alt:"wimmelbilder",onClick:function(a){return function(a){var c=t(a);if(c.result){console.log("hit!");var i=e.chars,r=i[n(c.character)];r.found=!0,console.log(i),p("success","You found the ".concat(r.name,"!")),e.updateChars(i)}else console.log("miss!"),p("info","Keep looking!");console.log(c)}(a)}})},g=function(e){var t,n=e.char,a="",c="";return void 0!==n&&n.active&&(a="charActive"),void 0!==n&&n.found&&(c="found"),t=void 0===n?"":Object(m.jsx)("div",{className:"char ".concat(a," ").concat(c),onClick:function(t){return e.changeActiveStatus(t)},children:n.name||""},n.name||""),Object(m.jsx)("div",{children:t})},A=function(e){var t=function(t){var n=e.chars;n.forEach((function(e){return e.active=!1}));var a=n.findIndex((function(e){return e.name===t.target.innerText}));n[a].active=!0,console.log(n),e.updateChars(n)};return Object(m.jsxs)("div",{className:"header",children:[Object(m.jsxs)("div",{className:"charSelector",children:[Object(m.jsx)("span",{children:Object(m.jsx)("strong",{children:"Find the following:"})}),Object(m.jsxs)("div",{className:"charOptions",children:[Object(m.jsx)(g,{char:e.chars[0],changeActiveStatus:t}),Object(m.jsx)(g,{char:e.chars[1],changeActiveStatus:t}),Object(m.jsx)(g,{char:e.chars[2],changeActiveStatus:t})]})]}),Object(m.jsx)("div",{className:"timer",children:e.displayTime}),Object(m.jsxs)("div",{className:"github-link",children:[Object(m.jsx)("img",{className:"github-icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==",alt:"GitHub icon"})," ",Object(m.jsx)("a",{href:"https://github.com/owenKraft/where-is-wimmelbilder",target:"_blank",rel:"noreferrer",children:"GitHub"})]})]})},w=n(26),y=n.n(w),M=function(){return Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsx)("h1",{children:"Welcome to Sylvan Hill!"}),Object(m.jsxs)("div",{className:"modal-message-body",children:[Object(m.jsx)("p",{children:"It's been a busy day on the slope and we've lost a few of our friends. If you could find them for us, it'd be greatly appreciated!"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("span",{children:"Yeti"})}),Object(m.jsx)("li",{children:Object(m.jsx)("span",{children:"Rooster"})}),Object(m.jsx)("li",{children:Object(m.jsx)("span",{children:"Mouse"})})]}),Object(m.jsxs)("p",{children:["When you've found our missing friends, just ",Object(m.jsx)("strong",{style:{color:"#26962d"},children:"click on them"})," so we know to find them."]})]})]})},I=function(){return Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsx)("h1",{children:"You found everyone!"}),Object(m.jsx)("div",{className:"modal-message-body",children:Object(m.jsx)("p",{children:"You found all of our friends! Enter you name below, and we'll add your name and time to our leaderboard!"})}),Object(m.jsx)("input",{id:"name-input",type:"text",placeholder:"Enter your name here (or leave blank to be anonymous)",maxLength:"50"})]})},N=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],i=n[1],r=u.a.database().ref("chars");Object(a.useEffect)((function(){r.on("value",(function(e){var t=e.val(),n=[];for(var a in t)n.push({id:a,name:t[a].name,active:t[a].active,found:t[a].found,xCoord:t[a].xCoord,yCoord:t[a].yCoord,xMin:t[a].xMin,xMax:t[a].xMax,yMin:t[a].yMin,yMax:t[a].yMax});i(n)}))}),[]);var o=function(e){l(e),i(Object(x.a)(e))},l=function(t){t.filter((function(e){return!0===e.found})).length===t.length&&(e.setGameStatus("won"),d())},d=function(){w(),y()({closeOnClickOutside:!1,closeOnEsc:!1,content:Object(m.jsx)(I,{}),button:"Submit to leaderboard"}).then((function(){return e.submitToLeaderboard()}))};"welcome"===e.gameStatus&&y()({content:Object(m.jsx)(M,{}),button:"Start searching"}).then((function(){return b()}));var b=function(){e.setGameStatus("in progress"),p()},j=Object(a.useState)(),h=Object(s.a)(j,2),O=h[0],f=h[1],p=function(){var t=Date.now();f(setInterval((function(){var n=Date.now()-t;e.setDisplayTime(g(n))}),1e3)),console.log(O)},g=function(e){var t=e/36e5,n=60*(t-Math.floor(t)),a=Math.floor(n),c=60*(n-a),i=Math.floor(c),r=a.toString().padStart(2,"0"),s=i.toString().padStart(2,"0");return"".concat(r,":").concat(s)},w=function(){clearInterval(O)};return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(A,{chars:c,updateChars:o,displayTime:e.displayTime,startTimer:p,stopTimer:w}),Object(m.jsx)(v,{chars:c,updateChars:o})]})})};var S=function(){var e=Object(a.useState)("welcome"),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(),r=Object(s.a)(i,2),d=r[0],b=r[1],j=Object(a.useState)("00:00"),x=Object(s.a)(j,2),O=x[0],f=x[1],p=function(){var e=document.getElementById("name-input").value;""===e&&(e="Anonymous");var t={name:e,time:O};b(t),u.a.database().ref("playerTimes").push(t),window.location.href="/where-is-wimmelbilder/#/leaderboard"};return Object(m.jsx)("div",{children:Object(m.jsx)(o.a,{basename:"/where-is-wimmelbilder/",children:Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{path:"/",exact:!0,render:function(e){return Object(m.jsx)(N,{displayTime:O,setDisplayTime:f,gameStatus:n,setGameStatus:c,submitToLeaderboard:p})}}),Object(m.jsx)(l.a,{path:"/leaderboard",exact:!0,render:function(e){return Object(m.jsx)(h,{playerInfo:d})}})]})})})};n(37).a.initializeApp({apiKey:"AIzaSyDPbavYeZLMq9znoQG_buJ8clfwE0R4YIA",authDomain:"wimmelbilder-43bce.firebaseapp.com",projectId:"wimmelbilder-43bce",storageBucket:"wimmelbilder-43bce.appspot.com",messagingSenderId:"210908595825",appId:"1:210908595825:web:067b85ac0ed9803942fdd0"}),r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.3ec55a92.chunk.js.map